<header class="hdr">
  <div class="left">
    <div class="brand">
      <div class="logo"><img src="assets/contoso-logo.svg" alt="Contoso Shop" /></div>
      <div>
        <div class="title">Contoso Shop</div>
        <div class="sub muted">SignalR demo Â· Order workflow notifications</div>
      </div>
    </div>
  </div>

  <div class="right">
    <span class="pill">
      <span [class]="dotClass"></span>
      <span *ngIf="state==='connected'">Connected</span>
      <span *ngIf="state==='connecting'">Connectingâ€¦</span>
      <span *ngIf="state==='disconnected'">Disconnected</span>
    </span>

    <span class="pill">
      <span class="muted">User</span>
      <strong>{{userId}}</strong>
    </span>
    <button class="pill cartbtn" (click)="toggleCart()" title="Cart">
      ðŸ›’ Cart
      <span *ngIf="cartCount" class="cartbadge">{{cartCount}}</span>
      <span class="muted" *ngIf="cartCount">Â· â‚¬{{cartTotal | number:'1.2-2'}}</span>
    </button>

    <button class="pill btnlink" (click)="signOut()" title="Sign out">Sign out</button>

    <span *ngIf="active" class="pill active">
      <span class="muted">Active</span>
      <strong>{{active.status}}</strong>
      <span class="muted">Â·</span>
      <span class="mono">{{active.correlationId.slice(0,8)}}â€¦</span>
      <span *ngIf="active.orderId" class="muted">Â· #{{active.orderId}}</span>
    </span>
  </div>
</header>
